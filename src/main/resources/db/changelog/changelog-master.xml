<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
                   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                   xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog https://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.4.xsd">
    <changeSet author="samtoya (generated)" id="1642798059445-1">
        <createTable tableName="cards">
            <column name="id" type="varchar">
                <constraints nullable="false"/>
            </column>
            <column name="created_at" type="timestamp"/>
            <column name="disabled_at" type="timestamp"/>
            <column name="holder" type="varchar"/>
            <column name="reason" type="TEXT"/>
            <column name="serial_number" type="varchar"/>
        </createTable>
    </changeSet>

    <changeSet author="samtoya (generated)" id="1642798059445-3">
        <createTable tableName="device_sessions">
            <column name="id" type="varchar">
                <constraints nullable="false"/>
            </column>
            <column name="created_at" type="timestamp"/>
            <column name="ended_at" type="timestamp"/>
            <column name="is_active" type="BOOL"/>
            <column name="phone_number" type="varchar"/>
            <column name="serial_number" type="varchar"/>
            <column name="session_id" type="varchar"/>
            <column name="status" type="varchar"/>
        </createTable>
    </changeSet>

    <changeSet author="samtoya (generated)" id="1642798059445-4">
        <createTable tableName="devices">
            <column name="id" type="varchar">
                <constraints nullable="false"/>
            </column>
            <column name="created_at" type="timestamp"/>
            <column name="customer_id" type="varchar"/>
            <column name="name" type="varchar"/>
            <column name="paired_at" type="timestamp"/>
            <column name="passcode" type="varchar"/>
            <column name="serial_number" type="varchar">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>

    <changeSet author="samtoya (generated)" id="1642798059445-5">
        <createTable tableName="events">
            <column name="id" type="varchar">
                <constraints nullable="false"/>
            </column>
            <column name="created_at" type="timestamp"/>
            <column name="data" type="varchar"/>
            <column name="serial_number" type="varchar"/>
            <column name="type" type="varchar"/>
        </createTable>
    </changeSet>

    <changeSet author="samtoya (generated)" id="1642798059445-6">
        <createTable tableName="transactions">
            <column name="id" type="varchar">
                <constraints nullable="false"/>
            </column>
            <column name="created_at" type="timestamp"/>
            <column name="last_modified_at" type="timestamp"/>
            <column name="amount" type="numeric(19, 2)"/>
            <column name="channel" type="varchar"/>
            <column name="confirmed" type="BOOL">
                <constraints nullable="false"/>
            </column>
            <column name="currency" type="varchar"/>
            <column name="ip_address" type="varchar"/>
            <column name="last4digits" type="varchar"/>
            <column name="mode_of_payment" type="varchar"/>
            <column name="payment_provider" type="varchar"/>
            <column name="provider_payload" type="TEXT"/>
            <column name="provider_transaction_id" type="varchar"/>
            <column name="status" type="varchar"/>
            <column name="type" type="varchar"/>
            <column name="user_id" type="varchar"/>
            <column name="wallet_id" type="varchar"/>
        </createTable>
    </changeSet>

    <changeSet author="samtoya (generated)" id="1642798059445-7">
        <createTable tableName="wallets">
            <column name="id" type="varchar">
                <constraints nullable="false"/>
            </column>
            <column name="created_at" type="timestamp"/>
            <column name="last_modified_at" type="timestamp"/>
            <column name="description" type="varchar"/>
            <column name="holder" type="varchar"/>
            <column name="meta" type="varchar"/>
            <column name="name" type="varchar"/>
        </createTable>
    </changeSet>

    <changeSet author="samtoya (generated)" id="1642798059445-8">
        <addPrimaryKey columnNames="id" constraintName="cards_pkey" tableName="cards"/>
    </changeSet>

    <changeSet author="samtoya (generated)" id="1642798059445-9">
        <addPrimaryKey columnNames="id" constraintName="device_sessions_pkey" tableName="device_sessions"/>
    </changeSet>

    <changeSet author="samtoya (generated)" id="1642798059445-10">
        <addPrimaryKey columnNames="id" constraintName="devices_pkey" tableName="devices"/>
    </changeSet>

    <changeSet author="samtoya (generated)" id="1642798059445-11">
        <addPrimaryKey columnNames="id" constraintName="events_pkey" tableName="events"/>
    </changeSet>

    <changeSet author="samtoya (generated)" id="1642798059445-12">
        <addPrimaryKey columnNames="id" constraintName="transactions_pkey" tableName="transactions"/>
    </changeSet>

    <changeSet author="samtoya (generated)" id="1642798059445-13">
        <addPrimaryKey columnNames="id" constraintName="wallets_pkey" tableName="wallets"/>
    </changeSet>

    <changeSet author="samtoya (generated)" id="1642798059445-14">
        <addUniqueConstraint columnNames="serial_number" constraintName="uk_1wnoq49v4cq8n3xwbx2mxvgsb" tableName="cards"/>
    </changeSet>

    <changeSet author="samtoya (generated)" id="1642798059445-15">
        <addUniqueConstraint columnNames="serial_number" constraintName="uk_6ju48hv6y1f2kn982hyxd0wep" tableName="devices"/>
    </changeSet>

</databaseChangeLog>
